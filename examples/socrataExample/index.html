---
layout: default
published: true
title: Chicago City Payroll using Socrata and SoQL
---




<div class="row">

    <div class="col-md-12">

        <h2>City of Chicago Employee Data</h2>

        <p>Fields: name, department, job_titles, employee_annual_salary</p>

        <p>Check out <a href="http://dev.socrata.com/docs/queries.html">http://dev.socrata.com/docs/queries.html</a> for
            more on how to use these clauses.</p>

        <p>Try out some clauses (leave blank to ignore):</p>
        <form class="form-inline" id="socrataExampleInputForm">

        <div class="form-group">
            <label for="where">Where:</label>
            <input id="where" class="form-control" type="text" placeholder=""/>
            <span id="where-helpblock" class="help-block">(i.e. employee_annual_salary>100000 or department='fire')</span>
        </div>
        <br />
            <div class="form-group">
                <label for="select">Select:</label>
                <input id="select" class="form-control" type="text" />
                <span id="select-helpblock" class="help-block">(i.e. department,sum(employee_annual_salary))</span>
            </div>
            <br />
                <div class="form-group">
                    <label for="group">Group:</label> <input id="group" class="form-control"type="text" />
                    <span id="group-helpblock" class="help-block">(i.e. department or name)</span>

                </div>
            <br />
                    <div class="form-group">
                        <label for="q">Search:</label> <input id="q" class="form-control" type="text" />
                        <span id="q-helpblock" class="help-block">(i.e. John or Rahm)</span>

                    </div>
            <br />
        <input type="submit" class="btn btn-large btn-primary" id="socrataSubmit" value="Query"/>
            </form>
    </div>
</div>


<div class="row">
    <div class="col-md-12">
        <ul class="nav nav-tabs" role="tablist">

            <li role="presentation" class="active"><a href="#dataSeriesData" aria-controls="dataSeriesData" role="tab" data-toggle="tab">Raw Output</a></li>

            <li role="presentation"><a href="#dataSeriesCode" aria-controls="dataSeriesCode" role="tab" data-toggle="tab">Code Example</a></li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active" id="dataSeriesData">
            <pre id="output">

            </pre>

            </div><!-- end dataSeriesData -->





            <div role="tabpanel" class="tab-pane" id="dataSeriesCode"><pre>

var sdk, socrata;

    jQuery(document).ready(function () {
        sdk = new CitySDK();
        socrata = sdk.modules.socrata;
        jQuery("#socrataSubmit").on("click",submit);
    });



    function submit(e) {
        var request = {
            "url": "data.cityofchicago.org",
            "dataset": "xzkq-xp2w"
        }

        var where = jQuery('#where');
        if (where.val().length > 0) {
            request.where = where.val();
        }

        var select = jQuery('#select');
        if (select.val().length > 0) {
            request.select = select.val();
        }

        var group = jQuery('#group');
        if (group.val().length > 0) {
            request.group = group.val();
        }

        var q = jQuery('#q');
        if (q.val().length > 0) {
            request.q = q.val();
        }

        socrata.request(request, function (response) {
            var output = jQuery('#output');
            output.empty();

            response.forEach(function (entry) {
                for (var property in entry) {
                    if (entry.hasOwnProperty(property)) {
                        output.append("<b>" + property + "</b>: " + entry[property] + "; ");
                    }
                }
                output.append("<br/>");
            });
        });
    }

            </pre>
            </div><!-- end dataSeriesCode -->
        </div>





    </div>

</div>

<script>
    var sdk, socrata;

    jQuery(document).ready(function () {
        sdk = new CitySDK();
        socrata = sdk.modules.socrata;

        jQuery("#socrataSubmit").on("click",submit);
    });



    function submit(e) {
        e.preventDefault();
        var request = {
            "url": "data.cityofchicago.org",
            "dataset": "xzkq-xp2w"
        }

        var where = jQuery('#where');
        if (where.val().length > 0) {
            request.where = where.val();
        }

        var select = jQuery('#select');
        if (select.val().length > 0) {
            request.select = select.val();
        }

        var group = jQuery('#group');
        if (group.val().length > 0) {
            request.group = group.val();
        }

        var q = jQuery('#q');
        if (q.val().length > 0) {
            request.q = q.val();
        }

        socrata.request(request, function (response) {
            var output = jQuery('#output');
            output.empty();

            response.forEach(function (entry) {
                for (var property in entry) {
                    if (entry.hasOwnProperty(property)) {
                        output.append("<b>" + property + "</b>: " + entry[property] + "; ");
                    }
                }
                output.append("<br/>");
            });
        });
    }
</script>
